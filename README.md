# scipy-central-rescue
Sphinx-rendered code snippets from scipy-central

##Purpose
This code extracts user posts from the old SciPyCentral website and uses it to create Sphinx documentation.

##Requirements
- Python 2.7
- Sphinx
- Psychopg2
- PostgreSQL

##Setup
Load the database into Postgres.
```
createuser -s postgres -d -r
createdb -O postgres scipy_central
pg_restore -c -d scipy_central postgresql_backup_binary
```

##Creating the Restructured Text (rst) Files
`extract.py` Uses psychopg2 to connect to and extract information from database. 
This code currently filters on code snippets only and get rid of spam by filtering out one-word file submissions. 
Loads information into submissions dictionary, and uses `sphinx-generator.py` to generate the rst file.
All rst files are written to the folder `rst-files`, and a copy of the file names are written to `rst-files-names.rst`.

##Creating the HTML Files Using Sphinx
Replace all the `rst-files` in the `sphinx-files` folder with the `rst-files` generated by `extract.py`.
Populate the toctree in `sphinxfiles/index.rst` with the file names in `rst-files-names.rst`.
Build the html files. In `sphinx-files`, run:
```
make clean
make html
```
The html files will be located in `_build/html`.

##Notes
A few rst files containing faulty Sphinx syntax were cleaned by hand.
